{"version":3,"sources":["reviewRoutes.js"],"names":["express","require","reviewController","mergeParams","router","authController","get","getAllReviews","module","route","getReview","post","protect","restrictTo","setTourUserIds","createReview","patch","updateReview","deleteReview","exports"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,iBAAmBD,QAAQ,qCAD3BD,eAAkBC,QAAD,mCACjBC,OAAAA,QAAmBD,OAAO,CAACE,aAAA,IACjCC,OAAMC,IAAAA,eAAiBJ,SAEvBG,OAAgCD,MAAAA,KAAhCG,IAAAJ,iBAAAK,eAEAH,KAEAA,eAEGE,WAAIJ,QAOPE,iBAEGE,eAgBHE,iBAAiBJ,cAlBjBA,OACGK,MAAM,QACNH,IAAIJ,iBAAiBQ,WACrBC,KACCN,eAAeO,QACfP,eAAeQ,WAAW,QAC1BX,iBAAiBY,eACjBZ,iBAAiBa,cAElBC,MACCX,eAAeQ,WAAW,OAAQ,SAClCX,iBAAiBe,cAXrB,OAcIZ,eAAeQ,WAAW,OAAQ,SAClCX,iBAAiBgB,cAGrBV,OAAOW,QAAUf","file":"reviewRoutes.min.js","sourcesContent":["const express = require('express');\nconst reviewController = require('./../controllers/reviewController');\nconst authController = require('./../controllers/authController');\n\nconst router = express.Router({ mergeParams: true });\n\nrouter.use(authController.protect);\n\nrouter\n  .route('/')\n  .get(reviewController.getAllReviews)\n  .post(\n    authController.restrictTo('user'),\n    reviewController.setTourUserIds,\n    reviewController.createReview\n  );\n\nrouter\n  .route('/:id')\n  .get(reviewController.getReview)\n  .post(\n    authController.protect,\n    authController.restrictTo('user'),\n    reviewController.setTourUserIds,\n    reviewController.createReview\n  )\n  .patch(\n    authController.restrictTo('user', 'admin'),\n    reviewController.updateReview\n  )\n  .delete(\n    authController.restrictTo('user', 'admin'),\n    reviewController.deleteReview\n  );\n\nmodule.exports = router;\n"]}