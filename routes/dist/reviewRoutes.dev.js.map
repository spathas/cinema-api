{"version":3,"sources":["reviewRoutes.js"],"names":["express","require","reviewController","authController","router","Router","mergeParams","use","protect","route","get","getAllReviews","post","restrictTo","setTourUserIds","createReview","getReview","patch","updateReview","deleteReview","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,gBAAgB,GAAGD,OAAO,CAAC,mCAAD,CAAhC;;AACA,IAAME,cAAc,GAAGF,OAAO,CAAC,iCAAD,CAA9B;;AAEA,IAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,CAAe;AAAEC,EAAAA,WAAW,EAAE;AAAf,CAAf,CAAf;AAEAF,MAAM,CAACG,GAAP,CAAWJ,cAAc,CAACK,OAA1B;AAEAJ,MAAM,CACHK,KADH,CACS,GADT,EAEGC,GAFH,CAEOR,gBAAgB,CAACS,aAFxB,EAGGC,IAHH,CAIIT,cAAc,CAACU,UAAf,CAA0B,MAA1B,CAJJ,EAKIX,gBAAgB,CAACY,cALrB,EAMIZ,gBAAgB,CAACa,YANrB;AASAX,MAAM,CACHK,KADH,CACS,MADT,EAEGC,GAFH,CAEOR,gBAAgB,CAACc,SAFxB,EAGGJ,IAHH,CAIIT,cAAc,CAACK,OAJnB,EAKIL,cAAc,CAACU,UAAf,CAA0B,MAA1B,CALJ,EAMIX,gBAAgB,CAACY,cANrB,EAOIZ,gBAAgB,CAACa,YAPrB,EASGE,KATH,CAUId,cAAc,CAACU,UAAf,CAA0B,MAA1B,EAAkC,OAAlC,CAVJ,EAWIX,gBAAgB,CAACgB,YAXrB,YAcIf,cAAc,CAACU,UAAf,CAA0B,MAA1B,EAAkC,OAAlC,CAdJ,EAeIX,gBAAgB,CAACiB,YAfrB;AAkBAC,MAAM,CAACC,OAAP,GAAiBjB,MAAjB","sourcesContent":["const express = require('express');\nconst reviewController = require('./../controllers/reviewController');\nconst authController = require('./../controllers/authController');\n\nconst router = express.Router({ mergeParams: true });\n\nrouter.use(authController.protect);\n\nrouter\n  .route('/')\n  .get(reviewController.getAllReviews)\n  .post(\n    authController.restrictTo('user'),\n    reviewController.setTourUserIds,\n    reviewController.createReview\n  );\n\nrouter\n  .route('/:id')\n  .get(reviewController.getReview)\n  .post(\n    authController.protect,\n    authController.restrictTo('user'),\n    reviewController.setTourUserIds,\n    reviewController.createReview\n  )\n  .patch(\n    authController.restrictTo('user', 'admin'),\n    reviewController.updateReview\n  )\n  .delete(\n    authController.restrictTo('user', 'admin'),\n    reviewController.deleteReview\n  );\n\nmodule.exports = router;\n"],"file":"reviewRoutes.dev.js"}