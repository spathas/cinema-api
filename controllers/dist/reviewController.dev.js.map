{"version":3,"sources":["reviewController.js"],"names":["Review","require","factory","exports","setTourUserIds","req","res","next","body","title","params","titleId","user","id","getAllReviews","getAll","getReview","getOne","createReview","createOne","updateReview","updateOne","deleteReview","deleteOne"],"mappings":";;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,yBAAD,CAAtB;;AACA,IAAMC,OAAO,GAAGD,OAAO,CAAC,kBAAD,CAAvB;;AAEAE,OAAO,CAACC,cAAR,GAAyB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3C;AACA,MAAI,CAACF,GAAG,CAACG,IAAJ,CAASC,KAAd,EAAqBJ,GAAG,CAACG,IAAJ,CAASC,KAAT,GAAiBJ,GAAG,CAACK,MAAJ,CAAWC,OAA5B;AACrB,MAAI,CAACN,GAAG,CAACG,IAAJ,CAASI,IAAd,EAAoBP,GAAG,CAACG,IAAJ,CAASI,IAAT,GAAgBP,GAAG,CAACO,IAAJ,CAASC,EAAzB;AACpBN,EAAAA,IAAI;AACL,CALD;;AAOAJ,OAAO,CAACW,aAAR,GAAwBZ,OAAO,CAACa,MAAR,CAAef,MAAf,CAAxB;AACAG,OAAO,CAACa,SAAR,GAAoBd,OAAO,CAACe,MAAR,CAAejB,MAAf,CAApB;AACAG,OAAO,CAACe,YAAR,GAAuBhB,OAAO,CAACiB,SAAR,CAAkBnB,MAAlB,CAAvB;AACAG,OAAO,CAACiB,YAAR,GAAuBlB,OAAO,CAACmB,SAAR,CAAkBrB,MAAlB,CAAvB;AACAG,OAAO,CAACmB,YAAR,GAAuBpB,OAAO,CAACqB,SAAR,CAAkBvB,MAAlB,CAAvB","sourcesContent":["const Review = require('./../models/reviewModel');\nconst factory = require('./handlerFactory');\n\nexports.setTourUserIds = (req, res, next) => {\n  // Allow nested routes\n  if (!req.body.title) req.body.title = req.params.titleId;\n  if (!req.body.user) req.body.user = req.user.id;\n  next();\n};\n\nexports.getAllReviews = factory.getAll(Review);\nexports.getReview = factory.getOne(Review);\nexports.createReview = factory.createOne(Review);\nexports.updateReview = factory.updateOne(Review);\nexports.deleteReview = factory.deleteOne(Review);\n"],"file":"reviewController.dev.js"}