{"version":3,"sources":["titleModel.js"],"names":["mongoose","require","titleSchema","Schema","name","type","String","unique","trim","year","Number","required","writers","director","duration","description","story","imageCover","trailer","category","ratingsAverage","min","max","set","val","Math","round","ratingsQuantity","toJSON","virtuals","toObject","virtual","ref","foreignField","localField","Title","model","module","exports"],"mappings":";;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB,C,CACA;;;AAEA,IAAMC,WAAW,GAAG,IAAIF,QAAQ,CAACG,MAAb,CAClB;AACEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEC,MADF;AAEJL,IAAAA,OAAO,EAAE,IAFL;AAGJM,IAAAA,MAAM,EAAE,IAHJ;AAIJC,IAAAA,IAAI,EAAE;AAJF,GADR;AAOEC,EAAAA,IAAI,EAAE;AACJJ,IAAAA,IAAI,EAAEK,MADF;AAEJC,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,kCAAP;AAFN,GAPR;AAWEC,EAAAA,OAAO,EAAE;AACPP,IAAAA,IAAI,EAAE,CAACC,MAAD,CADC;AAEPK,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,4BAAP;AAFH,GAXX;AAeEE,EAAAA,QAAQ,EAAE;AACRR,IAAAA,IAAI,EAAE,CAACC,MAAD,CADE;AAERK,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,8BAAP;AAFF,GAfZ;AAmBEG,EAAAA,QAAQ,EAAE;AACRT,IAAAA,IAAI,EAAEK,MADE;AAERC,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,8BAAP;AAFF,GAnBZ;AAuBEI,EAAAA,WAAW,EAAE;AACXV,IAAAA,IAAI,EAAEC,MADK;AAEXE,IAAAA,IAAI,EAAE,IAFK;AAGXG,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;AAHC,GAvBf;AA4BEK,EAAAA,KAAK,EAAE;AACLX,IAAAA,IAAI,EAAEC,MADD;AAELE,IAAAA,IAAI,EAAE;AAFD,GA5BT;AAgCES,EAAAA,UAAU,EAAE;AACVZ,IAAAA,IAAI,EAAEC,MADI;AAEVK,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;AAFA,GAhCd;AAoCEO,EAAAA,OAAO,EAAE;AACPb,IAAAA,IAAI,EAAEC,MADC;AAEPK,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,6BAAP;AAFH,GApCX;AAwCEQ,EAAAA,QAAQ,EAAE;AACRd,IAAAA,IAAI,EAAE,CAACC,MAAD,CADE;AAERK,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,yCAAP;AAFF,GAxCZ;AA4CES,EAAAA,cAAc,EAAE;AACdf,IAAAA,IAAI,EAAEK,MADQ;AAEd,eAAS,GAFK;AAGdW,IAAAA,GAAG,EAAE,CAAC,CAAD,EAAI,0BAAJ,CAHS;AAIdC,IAAAA,GAAG,EAAE,CAAC,CAAD,EAAI,0BAAJ,CAJS;AAKdC,IAAAA,GAAG,EAAE,aAAAC,GAAG;AAAA,aAAIC,IAAI,CAACC,KAAL,CAAWF,GAAG,GAAG,EAAjB,IAAuB,EAA3B;AAAA,KALM,CAKwB;;AALxB,GA5ClB;AAmDEG,EAAAA,eAAe,EAAE;AACftB,IAAAA,IAAI,EAAEK,MADS;AAEf,eAAS;AAFM;AAnDnB,CADkB,EAyDlB;AACEkB,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GADV;AAEEC,EAAAA,QAAQ,EAAE;AAAED,IAAAA,QAAQ,EAAE;AAAZ;AAFZ,CAzDkB,CAApB;AA+DA3B,WAAW,CAAC6B,OAAZ,CAAoB,SAApB,EAA+B;AAC7BC,EAAAA,GAAG,EAAE,QADwB;AAE7BC,EAAAA,YAAY,EAAE,OAFe;AAG7BC,EAAAA,UAAU,EAAE;AAHiB,CAA/B;AAMA,IAAMC,KAAK,GAAGnC,QAAQ,CAACoC,KAAT,CAAe,OAAf,EAAwBlC,WAAxB,CAAd;AAEAmC,MAAM,CAACC,OAAP,GAAiBH,KAAjB","sourcesContent":["const mongoose = require('mongoose');\n// const User = require('./userModel');\n\nconst titleSchema = new mongoose.Schema(\n  {\n    name: {\n      type: String,\n      require: true,\n      unique: true,\n      trim: true\n    },\n    year: {\n      type: Number,\n      required: [true, 'A movie must have a release year']\n    },\n    writers: {\n      type: [String],\n      required: [true, 'A movie must have a writer']\n    },\n    director: {\n      type: [String],\n      required: [true, 'A movie must have a director']\n    },\n    duration: {\n      type: Number,\n      required: [true, 'A movie must have a duration']\n    },\n    description: {\n      type: String,\n      trim: true,\n      required: [true, 'A movie must have a description']\n    },\n    story: {\n      type: String,\n      trim: true\n    },\n    imageCover: {\n      type: String,\n      required: [true, 'A movie must have a cover image']\n    },\n    trailer: {\n      type: String,\n      required: [true, 'A movie must have a trailer']\n    },\n    category: {\n      type: [String],\n      required: [true, 'A movie must have at least one category']\n    },\n    ratingsAverage: {\n      type: Number,\n      default: 4.5,\n      min: [1, 'Rating must be above 1.0'],\n      max: [5, 'Rating must be below 5.0'],\n      set: val => Math.round(val * 10) / 10 // 4.666666, 46.6666, 47, 4.7\n    },\n    ratingsQuantity: {\n      type: Number,\n      default: 0\n    }\n  },\n  {\n    toJSON: { virtuals: true },\n    toObject: { virtuals: true }\n  }\n);\n\ntitleSchema.virtual('reviews', {\n  ref: 'Review',\n  foreignField: 'title',\n  localField: '_id'\n});\n\nconst Title = mongoose.model('Title', titleSchema);\n\nmodule.exports = Title;\n"],"file":"titleModel.dev.js"}